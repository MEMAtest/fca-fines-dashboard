import{c as G,r as x,j as e,u as W,a as $,b as z,d as O,L as E}from"./index-BmBd8S76.js";import{m,M as F}from"./Modal-CxbyGtQa.js";import{C as R,a as Y,T as I}from"./Toast-BKM28eSu.js";const Z=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],H=G("send",Z);function _(){const[s,n]=x.useState(null),[i,a]=x.useState(!0),[c,l]=x.useState(null);return x.useEffect(()=>{fetch("/api/homepage/stats").then(d=>{if(!d.ok)throw new Error("Failed to fetch");return d.json()}).then(d=>{n(d),a(!1)}).catch(d=>{console.error("Failed to load homepage stats:",d),l("Unable to load stats"),a(!1)})},[]),{stats:s,loading:i,error:c}}function D(s){return s>=1e9?`£${(s/1e9).toFixed(1)}B`:s>=1e6?`£${(s/1e6).toFixed(1)}m`:`£${(s/1e3).toFixed(0)}k`}function U(){return e.jsxs("div",{className:"hero-3d-scene",children:[e.jsx("div",{className:"circular-backdrop"}),e.jsxs("svg",{className:"network-grid",viewBox:"0 0 500 500",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"rgba(15, 162, 148, 0.15)",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"500",height:"500",fill:"url(#grid)"})]}),e.jsxs(m.div,{className:"central-platform",initial:{scale:0,rotateY:-180},animate:{scale:1,rotateY:0},transition:{duration:1,delay:.2},children:[e.jsx("div",{className:"platform-layer layer-1"}),e.jsx("div",{className:"platform-layer layer-2"}),e.jsx("div",{className:"platform-layer layer-3"}),e.jsx("div",{className:"platform-glow"})]}),e.jsxs(m.div,{className:"stat-badge-3d",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.5},children:[e.jsx("div",{className:"stat-label",children:"Total Fines"}),e.jsx("div",{className:"stat-value",children:"£4.9bn"})]}),e.jsxs(m.div,{className:"stat-badge-3d stat-badge-secondary",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.7},children:[e.jsx("div",{className:"stat-label",children:"Firms Fined"}),e.jsx("div",{className:"stat-value",children:"305"})]}),e.jsxs(m.div,{className:"stat-badge-3d stat-badge-tertiary",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.9},children:[e.jsx("div",{className:"stat-label",children:"Peak Year"}),e.jsx("div",{className:"stat-value",children:"2014"})]}),[{className:"node-1",x:-38,y:-28,delay:.6,layers:3},{className:"node-2",x:38,y:-22,delay:.7,layers:2},{className:"node-3",x:-42,y:18,delay:.8,layers:2},{className:"node-4",x:42,y:22,delay:.9,layers:3},{className:"node-5",x:-22,y:-48,delay:1,layers:2},{className:"node-6",x:28,y:-42,delay:1.1,layers:3},{className:"node-7",x:-32,y:42,delay:1.2,layers:2},{className:"node-8",x:32,y:38,delay:1.3,layers:3}].map((s,n)=>e.jsx(m.div,{className:`floating-node ${s.className}`,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.6,delay:s.delay},style:{left:`calc(50% + ${s.x}%)`,top:`calc(50% + ${s.y}%)`},children:e.jsx("div",{className:"stacked-block",children:[...Array(s.layers)].map((i,a)=>e.jsxs("div",{className:"block-layer",style:{"--layer":a},children:[e.jsx("div",{className:"layer-top"}),e.jsx("div",{className:"layer-front"}),e.jsx("div",{className:"layer-right"})]},a))})},n)),e.jsxs("svg",{className:"connection-lines",viewBox:"0 0 400 400",children:[[{x1:200,y1:200,x2:100,y2:120},{x1:200,y1:200,x2:300,y2:130},{x1:200,y1:200,x2:80,y2:230},{x1:200,y1:200,x2:320,y2:240},{x1:200,y1:200,x2:120,y2:80},{x1:200,y1:200,x2:280,y2:90},{x1:200,y1:200,x2:110,y2:300},{x1:200,y1:200,x2:290,y2:290}].map((s,n)=>e.jsxs(m.g,{children:[e.jsx(m.line,{x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,stroke:"url(#lineGradient)",strokeWidth:"2",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,delay:.6+n*.1}}),e.jsx(m.circle,{cx:s.x2,cy:s.y2,r:"4",fill:"#17C3B2",initial:{scale:0},animate:{scale:1},transition:{duration:.4,delay:1+n*.1}})]},n)),[{x1:100,y1:120,x2:120,y2:80},{x1:300,y1:130,x2:280,y2:90},{x1:80,y1:230,x2:110,y2:300},{x1:320,y1:240,x2:290,y2:290}].map((s,n)=>e.jsx(m.line,{x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,stroke:"rgba(99, 102, 241, 0.3)",strokeWidth:"1.5",strokeDasharray:"4 4",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,delay:1.5+n*.2}},`inter-${n}`)),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#0FA294",stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:"#6366F1",stopOpacity:"0.4"})]})})]}),[...Array(12)].map((s,n)=>e.jsx(m.div,{className:"particle-glow",initial:{opacity:0},animate:{opacity:[.2,.8,.2],scale:[1,1.5,1],y:[0,-30,0]},transition:{duration:4+n*.3,repeat:1/0,delay:n*.2},style:{left:`${15+n%4*23}%`,top:`${20+Math.floor(n/4)*25}%`}},n))]})}function w({icon:s,title:n,description:i,index:a=0}){return e.jsxs(m.div,{className:"insight-card",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:a*.15},whileHover:{y:-8,scale:1.02},children:[e.jsx("div",{className:"insight-icon-wrapper",children:s}),e.jsx("h3",{className:"insight-title",children:n}),e.jsx("p",{className:"insight-description",children:i})]})}function k({label:s,value:n,trend:i,chart:a,index:c,onClick:l}){return e.jsxs(m.div,{className:"widget-card-3d",style:{"--card-index":c,cursor:l?"pointer":"default"},initial:{opacity:0,y:50,rotateX:-20},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0},transition:{delay:c*.15,duration:.6},onClick:l,whileTap:{scale:l?.98:1},children:[e.jsxs("div",{className:"widget-inner",children:[e.jsx("div",{className:"widget-header",children:e.jsx("span",{className:"widget-label",children:s})}),n&&e.jsxs("div",{className:"widget-value",children:[n,i&&e.jsx("span",{className:"trend",children:i})]}),a&&e.jsx("div",{className:"widget-chart",children:a})]}),e.jsx("div",{className:"widget-glow"})]})}function V(){return e.jsxs("svg",{className:"mini-sparkline",width:"100%",height:"60",viewBox:"0 0 200 60",children:[e.jsx("path",{d:"M 10 50 Q 40 45 70 30 T 130 25 T 190 15",stroke:"url(#sparklineGradient)",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"sparklineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#0FA294"}),e.jsx("stop",{offset:"100%",stopColor:"#6366F1"})]})})]})}function q(){const s=[{height:30,color:"#0FA294"},{height:45,color:"#17C3B2"},{height:25,color:"#6366F1"},{height:50,color:"#0FA294"},{height:35,color:"#4F46E5"}];return e.jsxs("svg",{className:"mini-bar-chart",width:"100%",height:"60",viewBox:"0 0 150 60",children:[s.map((n,i)=>e.jsx("rect",{x:i*30+5,y:60-n.height,width:"20",height:n.height,fill:n.color,rx:"2",opacity:"0.8"},i)),e.jsx("text",{x:"5",y:"55",fontSize:"8",fill:"#6B7280",children:"21"}),e.jsx("text",{x:"35",y:"55",fontSize:"8",fill:"#6B7280",children:"22"}),e.jsx("text",{x:"65",y:"55",fontSize:"8",fill:"#6B7280",children:"23"}),e.jsx("text",{x:"95",y:"55",fontSize:"8",fill:"#6B7280",children:"24"}),e.jsx("text",{x:"125",y:"55",fontSize:"8",fill:"#6B7280",children:"25"})]})}const Q=()=>e.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",children:[e.jsx("path",{d:"M60 85 L30 97 L30 100 L60 88 L90 100 L90 97 Z",fill:"url(#platformGradient)",opacity:"0.6"}),e.jsxs("g",{className:"bar-group",children:[e.jsx("path",{d:"M35 70 L35 55 L45 50 L45 65 Z",fill:"#0FA294"}),e.jsx("path",{d:"M35 55 L45 50 L55 55 L45 60 Z",fill:"#17C3B2",opacity:"0.8"}),e.jsx("path",{d:"M45 65 L45 50 L55 55 L55 70 Z",fill:"#0d7d70"})]}),e.jsxs("g",{className:"bar-group",children:[e.jsx("path",{d:"M50 65 L50 40 L60 35 L60 60 Z",fill:"#6366F1"}),e.jsx("path",{d:"M50 40 L60 35 L70 40 L60 45 Z",fill:"#818CF8",opacity:"0.8"}),e.jsx("path",{d:"M60 60 L60 35 L70 40 L70 65 Z",fill:"#4F46E5"})]}),e.jsxs("g",{className:"bar-group",children:[e.jsx("path",{d:"M65 60 L65 25 L75 20 L75 55 Z",fill:"#0FA294"}),e.jsx("path",{d:"M65 25 L75 20 L85 25 L75 30 Z",fill:"#17C3B2",opacity:"0.8"}),e.jsx("path",{d:"M75 55 L75 20 L85 25 L85 60 Z",fill:"#0d7d70"})]}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"platformGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#E0F7F5"}),e.jsx("stop",{offset:"100%",stopColor:"#BAE6FD"})]})})]}),J=()=>e.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",children:[e.jsxs("g",{className:"shield-group",children:[e.jsx("path",{d:"M60 30 L35 42 L35 65 Q 35 75 45 82 Q 55 88 60 92 Q 65 88 75 82 Q 85 75 85 65 L85 42 Z",fill:"#6366F1"}),e.jsx("path",{d:"M60 25 L35 37 L35 42 L60 30 L85 42 L85 37 Z",fill:"#818CF8",opacity:"0.9"}),e.jsx("path",{d:"M50 55 L56 62 L72 45",stroke:"#FFFFFF",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),e.jsx("circle",{cx:"60",cy:"60",r:"45",fill:"url(#shieldGlow)",opacity:"0.15"}),e.jsx("defs",{children:e.jsxs("radialGradient",{id:"shieldGlow",children:[e.jsx("stop",{offset:"0%",stopColor:"#6366F1"}),e.jsx("stop",{offset:"100%",stopColor:"#6366F1",stopOpacity:"0"})]})})]}),K=()=>e.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",children:[e.jsxs("g",{className:"clock-group",children:[e.jsx("ellipse",{cx:"60",cy:"68",rx:"32",ry:"10",fill:"#0d7d70",opacity:"0.6"}),e.jsx("circle",{cx:"60",cy:"60",r:"32",fill:"#0FA294"}),e.jsx("circle",{cx:"60",cy:"60",r:"28",fill:"url(#clockGradient)"}),e.jsx("circle",{cx:"60",cy:"38",r:"2",fill:"#1F2937"}),e.jsx("circle",{cx:"82",cy:"60",r:"2",fill:"#1F2937"}),e.jsx("circle",{cx:"60",cy:"82",r:"2",fill:"#1F2937"}),e.jsx("circle",{cx:"38",cy:"60",r:"2",fill:"#1F2937"}),e.jsx("line",{x1:"60",y1:"60",x2:"60",y2:"45",stroke:"#1F2937",strokeWidth:"3",strokeLinecap:"round"}),e.jsx("line",{x1:"60",y1:"60",x2:"70",y2:"60",stroke:"#1F2937",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("circle",{cx:"60",cy:"60",r:"3",fill:"#1F2937"})]}),e.jsx("path",{d:"M 90 60 Q 95 50 85 45",stroke:"#6366F1",strokeWidth:"3",strokeLinecap:"round",fill:"none"}),e.jsx("path",{d:"M 85 45 L 83 50 L 88 48 Z",fill:"#6366F1"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"clockGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#E0F7F5"}),e.jsx("stop",{offset:"100%",stopColor:"#17C3B2"})]})})]}),X=[{value:"",label:"Select a reason *"},{value:"demo",label:"Request a Demo"},{value:"inquiry",label:"General Inquiry"},{value:"partnership",label:"Partnership Opportunity"},{value:"support",label:"Technical Support"},{value:"other",label:"Other"}];function ee(){const[s,n]=x.useState({name:"",email:"",company:"",reason:"",message:""}),[i,a]=x.useState("idle"),[c,l]=x.useState({}),d=()=>{const t={};return s.name.trim()||(t.name="Name is required"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(t.email="Please enter a valid email"):t.email="Email is required",s.reason||(t.reason="Please select a reason"),s.message.trim()||(t.message="Message is required"),l(t),Object.keys(t).length===0},h=async t=>{if(t.preventDefault(),!!d()){a("submitting");try{const r=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),u=await r.json();if(!r.ok||!u.success)throw new Error(u.error||"Failed to send message");a("success"),n({name:"",email:"",company:"",reason:"",message:""}),setTimeout(()=>a("idle"),5e3)}catch(r){console.error("Contact form error:",r),a("error"),setTimeout(()=>a("idle"),5e3)}}},o=t=>{const{name:r,value:u}=t.target;n(y=>({...y,[r]:u})),c[r]&&l(y=>({...y,[r]:void 0}))};return i==="success"?e.jsxs("div",{className:"contact-form success-state",children:[e.jsx("div",{className:"success-icon",children:e.jsx(R,{size:48})}),e.jsx("h3",{children:"Thank you for reaching out!"}),e.jsx("p",{children:"We've received your message and will get back to you within 24 hours."})]}):e.jsxs("form",{onSubmit:h,className:"contact-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:o,className:c.name?"error":"",placeholder:"John Smith"}),c.name&&e.jsx("span",{className:"error-message",children:c.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:o,className:c.email?"error":"",placeholder:"john@company.com"}),c.email&&e.jsx("span",{className:"error-message",children:c.email})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"company",children:"Company"}),e.jsx("input",{type:"text",id:"company",name:"company",value:s.company,onChange:o,placeholder:"Your Company Ltd (optional)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"reason",children:"Reason for Contact *"}),e.jsx("select",{id:"reason",name:"reason",value:s.reason,onChange:o,className:c.reason?"error":"",children:X.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),c.reason&&e.jsx("span",{className:"error-message",children:c.reason})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",children:"Message *"}),e.jsx("textarea",{id:"message",name:"message",rows:5,value:s.message,onChange:o,className:c.message?"error":"",placeholder:"Tell us how we can help you..."}),c.message&&e.jsx("span",{className:"error-message",children:c.message})]}),e.jsx("button",{type:"submit",className:"submit-button",disabled:i==="submitting",children:i==="submitting"?"Sending...":e.jsxs(e.Fragment,{children:["Send Message",e.jsx(H,{size:16})]})}),i==="error"&&e.jsxs("div",{className:"form-message error",children:[e.jsx(Y,{size:20}),e.jsx("span",{children:"Failed to send message. Please try again or email us directly at contact@memaconsultants.com"})]})]})}const C=[{year:"2013",amount:475},{year:"2014",amount:1420},{year:"2015",amount:905},{year:"2016",amount:458},{year:"2017",amount:332},{year:"2018",amount:391},{year:"2019",amount:391},{year:"2020",amount:113},{year:"2021",amount:173},{year:"2022",amount:116},{year:"2023",amount:216},{year:"2024",amount:167},{year:"2025",amount:44}];function te(){const s=Math.max(...C.map(t=>t.amount)),n=700,i=400,a={top:40,right:40,bottom:60,left:80},c=n-a.left-a.right,l=i-a.top-a.bottom,d=C.map((t,r)=>{const u=a.left+r/(C.length-1)*c,y=a.top+l-t.amount/s*l;return{x:u,y,...t}}),h=d.map((t,r)=>(r===0?"M":"L")+" "+t.x+" "+t.y).join(" "),o=h+" L "+d[d.length-1].x+" "+(i-a.bottom)+" L "+a.left+" "+(i-a.bottom)+" Z";return e.jsxs("div",{className:"chart-container",children:[e.jsxs("svg",{width:"100%",height:i,viewBox:"0 0 "+n+" "+i,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#0FA294"}),e.jsx("stop",{offset:"100%",stopColor:"#6366F1"})]}),e.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(15, 162, 148, 0.3)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(99, 102, 241, 0.05)"})]})]}),[0,.25,.5,.75,1].map(t=>{const r=a.top+l-t*l;return e.jsx("line",{x1:a.left,y1:r,x2:n-a.right,y2:r,stroke:"rgba(15, 162, 148, 0.1)",strokeWidth:"1"},t)}),e.jsx(m.path,{d:o,fill:"url(#areaGradient)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2}}),e.jsx(m.path,{d:h,stroke:"url(#lineGradient)",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:"easeInOut"}}),d.map((t,r)=>e.jsxs(m.g,{children:[e.jsx(m.circle,{cx:t.x,cy:t.y,r:"5",fill:"#0FA294",stroke:"#FFFFFF",strokeWidth:"2",initial:{scale:0},animate:{scale:1},transition:{delay:.5+r*.05,duration:.3}}),e.jsx("title",{children:"£"+t.amount+"m ("+t.year+")"})]},r)),d.map((t,r)=>e.jsx("text",{x:t.x,y:i-a.bottom+25,textAnchor:"middle",fontSize:"12",fill:"#6B7280",children:t.year},r)),[0,.25,.5,.75,1].map(t=>{const r=a.top+l-t*l,u=Math.round(t*s);return e.jsx("text",{x:a.left-15,y:r+5,textAnchor:"end",fontSize:"12",fill:"#6B7280",children:"£"+u+"m"},t)}),e.jsx("text",{x:n/2,y:i-10,textAnchor:"middle",fontSize:"14",fill:"#1F2937",fontWeight:"600",children:"Year"}),e.jsx("text",{x:20,y:i/2,textAnchor:"middle",fontSize:"14",fill:"#1F2937",fontWeight:"600",transform:"rotate(-90 20 "+i/2+")",children:"Total Fines (£m)"})]}),e.jsxs("div",{className:"chart-summary",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total fines from 2013-2025:"})," £4,896,495,901"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Peak year:"})," 2014 with £1.42 billion in fines"]})]})]})}const v=[{sector:"Market Abuse",amount:1872,color:"#0FA294"},{sector:"Conduct",amount:1234,color:"#17C3B2"},{sector:"Governance",amount:876,color:"#6366F1"},{sector:"Financial Crime",amount:654,color:"#818CF8"},{sector:"Client Assets",amount:421,color:"#4F46E5"},{sector:"Other",amount:189,color:"#7C3AED"}];function se(){const s=Math.max(...v.map(o=>o.amount)),n=700,i=450,a={top:40,right:40,bottom:100,left:100},c=n-a.left-a.right,l=i-a.top-a.bottom,d=c/v.length,h=d*.2;return e.jsxs("div",{className:"chart-container",children:[e.jsxs("svg",{width:"100%",height:i,viewBox:"0 0 "+n+" "+i,children:[e.jsx("defs",{children:v.map((o,t)=>e.jsxs("linearGradient",{id:"barGradient"+t,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:o.color,stopOpacity:"0.9"}),e.jsx("stop",{offset:"100%",stopColor:o.color,stopOpacity:"0.6"})]},t))}),[0,.25,.5,.75,1].map(o=>{const t=a.top+l-o*l;return e.jsx("line",{x1:a.left,y1:t,x2:n-a.right,y2:t,stroke:"rgba(15, 162, 148, 0.1)",strokeWidth:"1"},o)}),v.map((o,t)=>{const r=o.amount/s*l,u=a.left+t*d+h/2,y=a.top+l-r;return e.jsxs(m.g,{children:[e.jsx(m.rect,{x:u,y,width:d-h,height:r,fill:"url(#barGradient"+t+")",rx:"8",initial:{scaleY:0,originY:1},animate:{scaleY:1},transition:{delay:t*.1,duration:.6,ease:"easeOut"},style:{transformOrigin:"0 "+(i-a.bottom)+"px"}}),e.jsx(m.text,{x:u+(d-h)/2,y:y-10,textAnchor:"middle",fontSize:"13",fill:"#1F2937",fontWeight:"600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5+t*.1},children:"£"+o.amount+"m"}),e.jsx("text",{x:u+(d-h)/2,y:i-a.bottom+20,textAnchor:"end",fontSize:"12",fill:"#6B7280",transform:"rotate(-45 "+(u+(d-h)/2)+" "+(i-a.bottom+20)+")",children:o.sector}),e.jsx("title",{children:"£"+o.amount+"m - "+o.sector})]},t)}),[0,.25,.5,.75,1].map(o=>{const t=a.top+l-o*l,r=Math.round(o*s);return e.jsx("text",{x:a.left-15,y:t+5,textAnchor:"end",fontSize:"12",fill:"#6B7280",children:"£"+r+"m"},o)}),e.jsx("text",{x:n/2,y:i-10,textAnchor:"middle",fontSize:"14",fill:"#1F2937",fontWeight:"600",children:"Breach Type"}),e.jsx("text",{x:20,y:i/2,textAnchor:"middle",fontSize:"14",fill:"#1F2937",fontWeight:"600",transform:"rotate(-90 20 "+i/2+")",children:"Penalty Amount (£m)"})]}),e.jsxs("div",{className:"chart-summary",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Most penalized:"})," Market Abuse with £1.87 billion in fines"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total sectors:"})," 6 major breach categories tracked"]})]})]})}function ae(){const[s,n]=x.useState(null),[i,a]=x.useState(!0),[c,l]=x.useState(null);if(x.useEffect(()=>{fetch("/api/homepage/stats").then(t=>{if(!t.ok)throw new Error("Failed to fetch");return t.json()}).then(t=>{n(t),a(!1)}).catch(t=>{console.error("Failed to load homepage stats:",t),l("Unable to load recent fines"),a(!1)})},[]),i)return e.jsx("div",{className:"recent-actions-container",children:e.jsx("div",{className:"actions-grid",children:[...Array(6)].map((t,r)=>e.jsxs("div",{className:"action-card skeleton",children:[e.jsx("div",{className:"skeleton-line",style:{width:"70%",height:"20px"}}),e.jsx("div",{className:"skeleton-line",style:{width:"40%",height:"16px",marginTop:"8px"}})]},r))})});if(c||!s)return e.jsx("div",{className:"recent-actions-container",children:e.jsx("p",{style:{textAlign:"center",color:"#6B7280"},children:c||"No data available"})});const d=Math.max(...s.latestFines.map(t=>t.amount)),h=t=>t>=1e6?`£${(t/1e6).toFixed(1)}m`:`£${(t/1e3).toFixed(0)}k`,o=t=>new Date(t).toLocaleDateString("en-GB",{month:"short",year:"numeric"});return e.jsxs("div",{className:"recent-actions-container",children:[e.jsx("div",{className:"actions-grid",children:s.latestFines.map((t,r)=>e.jsxs(m.div,{className:"action-card",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.08,duration:.4},children:[e.jsxs("div",{className:"action-header",children:[e.jsx("h4",{children:t.firm}),e.jsx("span",{className:"action-badge fine",children:t.breachType||"Fine"})]}),e.jsxs("div",{className:"action-details",children:[e.jsxs("div",{className:"action-amount",children:[e.jsx("span",{className:"amount-label",children:"Fine Amount"}),e.jsx("span",{className:"amount-value",children:h(t.amount)})]}),e.jsxs("div",{className:"action-date",children:[e.jsx("span",{className:"date-label",children:"Date"}),e.jsx("span",{className:"date-value",children:o(t.date)})]})]}),e.jsx("div",{className:"action-bar",children:e.jsx(m.div,{className:"action-bar-fill",initial:{width:0},animate:{width:`${t.amount/d*100}%`},transition:{delay:.5+r*.08,duration:.6}})})]},r))}),e.jsxs("div",{className:"chart-summary",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Latest enforcement:"})," ",s.latestFines[0]?.firm," - ",h(s.latestFines[0]?.amount)," (",o(s.latestFines[0]?.date),")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total fines tracked:"})," ",s.totalFines," enforcement actions totalling £",(s.totalAmount/1e9).toFixed(2),"B"]})]})]})}function le(){const s=W(),n=$(),[i,a]=z(),{markHomepageVisited:c}=O(),{stats:l}=_(),[d,h]=x.useState(null),[o,t]=x.useState(null);x.useEffect(()=>{c()},[c]),x.useEffect(()=>{const p=i.get("verified"),f=i.get("unsubscribed"),S=i.get("error"),g=i.get("email");if(p){const j={alert:`Email verified! You'll now receive alerts${g?` at ${g}`:""}.`,watchlist:"Email verified! You'll be notified when watched firms receive fines.",digest:`Email verified! You're subscribed to the digest${g?` at ${g}`:""}.`};t({message:j[p]||"Email verified successfully!",type:"success"}),a({},{replace:!0});return}else if(f){t({message:{alert:"You have been unsubscribed from alerts.",watchlist:"Firm removed from your watchlist.",digest:"You have been unsubscribed from the digest."}[f]||"Unsubscribed successfully.",type:"success"}),a({},{replace:!0});return}else if(S){t({message:{invalid_token:"Invalid or expired verification link.",already_verified:"This subscription is already verified.",not_found:"Subscription not found."}[S]||"An error occurred.",type:"error"}),a({},{replace:!0});return}const P=["year","category","search","scope","compare","compareCategories","filterYears","amountMin","amountMax","breaches","firms","startDate","endDate"];let M=!1;const b=new URLSearchParams(i);P.forEach(j=>{b.has(j)&&(b.delete(j),M=!0)}),M&&a(b,{replace:!0})},[i,a]),x.useEffect(()=>{if(o){const p=setTimeout(()=>t(null),6e3);return()=>clearTimeout(p)}},[o]);const r=l?D(l.totalAmount):"£4.9B+",u=l?l.totalFines:311,y=l?.yoyChange?`↗ ${l.yoyChange}%`:"",N=l?.latestFines?.[0],A=N?D(N.amount):"£44m",L=N?.firm||"Latest Firm",B=l?`${l.earliestYear}-${l.latestYear}`:"2013-2025",T=()=>{const f=n.state?.from;s(f||"/dashboard")};return e.jsxs("div",{className:"homepage homepage-3d",children:[o&&e.jsx(I,{message:o.message,type:o.type,onDismiss:()=>t(null)}),e.jsx("section",{className:"hero hero-3d",children:e.jsxs("div",{className:"hero-container",children:[e.jsxs("div",{className:"hero-content",children:[e.jsxs(m.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:["Real-Time FCA",e.jsx("br",{}),"Enforcement Intelligence"]}),e.jsxs(m.p,{className:"hero-subtitle",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:["Track over ",r," in fines. Identify risks. Strengthen your compliance posture."]}),e.jsx(m.button,{className:"hero-cta",onClick:T,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Explore the Platform"})]}),e.jsx("div",{className:"hero-visualization",children:e.jsx(U,{})})]})}),e.jsxs("section",{className:"key-insights",children:[e.jsx("h2",{className:"section-title",children:"Key Insights"}),e.jsx("p",{className:"section-subtitle",children:"Powerful analytics to help you understand regulatory enforcement patterns"}),e.jsxs("div",{className:"insights-grid",children:[e.jsx(w,{icon:e.jsx(Q,{}),title:"Identify Trends",description:`Analyze ${u} enforcement records by year, breach type, or firm to uncover critical patterns and compliance risks.`,index:0}),e.jsx(w,{icon:e.jsx(J,{}),title:"Benchmark Penalties",description:"Learn from peer enforcement actions like the £284M fine for Barclays Bank Plc and understand regulatory priorities.",index:1}),e.jsx(w,{icon:e.jsx(K,{}),title:"Stay Ahead",description:`Get instant updates on recent enforcement notices, including major actions like ${L}'s ${A} fine.`,index:2})]})]}),e.jsxs("section",{className:"platform-action",children:[e.jsxs("h2",{className:"section-title",children:["Visualize the",e.jsx("br",{}),"Regulatory Landscape"]}),e.jsx("p",{className:"section-subtitle",children:"Drill down into penalty distributions and timeline trends with unparalleled clarity."}),e.jsxs("div",{className:"widgets-container",children:[e.jsx(k,{index:0,label:"Total Amount",value:r,trend:y,chart:e.jsx(V,{}),onClick:()=>h("totalAmount")}),e.jsx(k,{index:1,label:"Penalty Distribution",value:"",chart:e.jsx(q,{}),onClick:()=>h("distribution")}),e.jsx(k,{index:2,label:"Recent Actions",value:A,trend:L,chart:null,onClick:()=>h("recentActions")})]})]}),e.jsx(F,{isOpen:d==="totalAmount",onClose:()=>h(null),title:`Total Fines Amount (${B})`,children:e.jsx(te,{})}),e.jsx(F,{isOpen:d==="distribution",onClose:()=>h(null),title:"Penalty Distribution by Sector",children:e.jsx(se,{})}),e.jsx(F,{isOpen:d==="recentActions",onClose:()=>h(null),title:`Recent Enforcement Actions (${l?.latestYear||new Date().getFullYear()})`,children:e.jsx(ae,{})}),e.jsxs("section",{className:"blog-section",children:[e.jsx("h2",{className:"section-title",children:"FCA Fines Insights"}),e.jsx("p",{className:"section-subtitle",children:"Expert analysis of FCA enforcement actions, penalty trends, and compliance lessons"}),e.jsx("div",{className:"blog-grid",children:[{title:"FCA Fines in 2024: Key Trends and Record Penalties",excerpt:"Analysis of the FCA's enforcement approach in 2024, including the largest fines and most common breach types targeted by the regulator.",category:"Enforcement Trends",date:"January 2025",url:"https://memaconsultants.com/insights/fca-fines-2024-trends"},{title:"How to Avoid FCA Fines: Lessons from Recent Cases",excerpt:"Practical compliance lessons drawn from recent FCA enforcement actions, helping firms identify and address regulatory risks.",category:"Compliance Guide",date:"December 2024",url:"https://memaconsultants.com/insights/avoid-fca-fines-lessons"},{title:"Understanding FCA Penalty Calculations",excerpt:"A deep dive into how the FCA calculates financial penalties, including aggravating and mitigating factors that affect fine amounts.",category:"Regulatory Analysis",date:"November 2024",url:"https://memaconsultants.com/insights/fca-penalty-calculations"},{title:"Consumer Duty Enforcement: What Fines to Expect",excerpt:"With Consumer Duty now in force, we examine the FCA's likely enforcement approach and potential penalty levels for breaches.",category:"Consumer Duty",date:"October 2024",url:"https://memaconsultants.com/insights/consumer-duty-enforcement-fines"},{title:"AML Failures: The Costliest FCA Fines",excerpt:"Anti-money laundering breaches have attracted some of the FCA's largest penalties. We analyse the key failures and compliance gaps.",category:"Financial Crime",date:"September 2024",url:"https://memaconsultants.com/insights/aml-fca-fines"},{title:"FCA vs PRA: Understanding Dual Regulation Fines",excerpt:"How enforcement differs between the FCA and PRA, and what dual-regulated firms need to know about penalty coordination.",category:"Regulatory Framework",date:"August 2024",url:"https://memaconsultants.com/insights/fca-pra-dual-regulation-fines"}].map((p,f)=>e.jsx(m.a,{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"blog-card",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:f*.1},children:e.jsxs("div",{className:"blog-card-content",children:[e.jsxs("div",{className:"blog-card-meta",children:[e.jsx("span",{className:"blog-category",children:p.category}),e.jsx("span",{className:"blog-date",children:p.date})]}),e.jsx("h3",{className:"blog-card-title",children:p.title}),e.jsx("p",{className:"blog-card-excerpt",children:p.excerpt}),e.jsx("span",{className:"blog-read-more",children:"Read Article →"})]})},p.title))}),e.jsx("div",{className:"blog-cta",children:e.jsx("a",{href:"https://memaconsultants.com/insights?category=enforcement",target:"_blank",rel:"noopener noreferrer",className:"blog-view-all",children:"View All Enforcement Insights"})})]}),e.jsx("section",{className:"contact-section",children:e.jsxs("div",{className:"contact-wrapper",children:[e.jsxs("div",{className:"contact-intro",children:[e.jsx("h2",{children:"Get in Touch"}),e.jsx("p",{children:"Interested in learning more? We'd love to hear from you."})]}),e.jsx(ee,{})]})}),e.jsx("footer",{className:"footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsxs("div",{className:"footer-brand",children:[e.jsx("p",{className:"footer-logo",children:"FCA Fines Dashboard"}),e.jsx("p",{className:"footer-tagline",children:"Powered by MEMA Consultants"})]}),e.jsxs("nav",{className:"footer-nav",children:[e.jsx(E,{to:"/blog",className:"footer-link",children:"Insights & Blog"}),e.jsx(E,{to:"/dashboard",className:"footer-link",children:"Dashboard"})]}),e.jsxs("p",{className:"footer-copyright",children:["© ",new Date().getFullYear()," MEMA Consultants · All rights reserved"]})]})})]})}export{le as Homepage};
